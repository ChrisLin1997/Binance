(this["webpackJsonpvirtual-exchange"]=this["webpackJsonpvirtual-exchange"]||[]).push([[1],{45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=function(e){e&&e instanceof Function&&n.e(8).then(n.bind(null,82)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},a=n(0),s=n.n(a),r=n(19),l=n.n(r),i=n(13),o=n(17),u="USER_UPDATE",d="VISIT_ADD",j="VISIT_DELETE",b={isLogin:!1,uid:""},m=[],f=Object(o.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;return t.type===u?Object.assign({},e,t.value):e},visitList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=e.slice();switch(t.type){case d:return n.push(t.value),n;case j:return-1===n.indexOf(t.value)?n:n.splice(n.indexOf(t.value),1);default:return e}}}),h=Object(o.c)(f),x=n(4),p=n(14),O=n(15),v=n.n(O),g=n(23),y=n(21),N=n(11),w=n(22),k=n(27);n(41);k.a.initializeApp({apiKey:"AIzaSyBJkLHymVm0-8-LY5g4RhkfAQ4hOO4jq74",authDomain:"virtual-exchange-ec2a0.firebaseapp.com",projectId:"virtual-exchange-ec2a0",storageBucket:"virtual-exchange-ec2a0.appspot.com",messagingSenderId:"547325403978",appId:"1:547325403978:web:48c2e1168d08e1532e97b3"});var I=k.a.auth(),C=n.p+"static/media/leaf.6534cc91.svg",E=n.p+"static/media/email.705b4c19.svg",L=n.p+"static/media/password.05a3c8ac.svg",S=n(1),T={login:"\u767b\u5165",register:"\u8a3b\u518a"},A=function(){var e=Object(a.useState)({email:"",password:""}),t=Object(w.a)(e,2),n=t[0],c=t[1],s=function(e){c(Object(N.a)(Object(N.a)({},n),{},Object(y.a)({},e.target.name,e.target.value)))},r=Object(x.g)(),l=Object(i.b)(),o=function(e){localStorage.setItem("uid",e),function(e){l({type:u,value:{isLogin:!0,uid:e}})}(e),r.push("/")},d=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("http://localhost:8000/users").then((function(e){return e.json()})).then((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c=Object(N.a)({},n),I.createUserWithEmailAndPassword(c.email,c.password).then((function(e){return e})).catch((function(e){return e}));case 2:if(void 0!==(t=e.sent).user){e.next=7;break}return e.abrupt("return",console.log("\u8a3b\u518a\u5931\u6557"));case 7:o(t.user.uid);case 8:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}(),b=Object(a.useState)("login"),m=Object(w.a)(b,2),f=m[0],h=m[1];Object(a.useEffect)((function(){return c(Object(N.a)(Object(N.a)({},n),{},{email:"",password:""}))}),[f]);var p=function(){return Object(S.jsxs)("div",{className:"mt-20 flex flex-col justify-around h-28 font-bold",children:[Object(S.jsx)("button",{onClick:function(){return j()},className:"py-2 bg-active rounded-lg",children:"\u9001\u51fa"}),Object(S.jsx)("button",{onClick:function(){return h("login")},className:"py-2 bg-secondary rounded-lg",children:"\u53d6\u6d88"})]})},O=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{onClick:function(){return h("register")},className:"mt-4 mb-10 px-2 text-right text-active font-bold",children:"\u8a3b\u518a\u5e33\u865f"}),Object(S.jsxs)("div",{className:"flex flex-col justify-around h-28 font-bold",children:[Object(S.jsx)("button",{onClick:function(){return d(!1)},className:"py-2 bg-active rounded-lg",children:"\u767b\u5165"}),Object(S.jsx)("button",{onClick:function(){return d(!0)},className:"py-2 bg-secondary rounded-lg",children:"\u8a2a\u5ba2\u6a21\u5f0f"})]})]})},k=function(e){return"login"===e.mode?Object(S.jsx)(O,{}):Object(S.jsx)(p,{})};return Object(S.jsxs)("div",{className:"py-10 flex flex-col items-center text-white",children:[Object(S.jsxs)("header",{className:"flex justify-center items-center",children:[Object(S.jsx)("img",{className:"w-12 h-12",src:C}),Object(S.jsxs)("div",{className:"ml-4 font-bold",children:[Object(S.jsx)("div",{className:"text-2xl text-yellow",children:"\u865b\u64ec\u4ea4\u6613\u6240"}),Object(S.jsx)("div",{children:"VIRTUAL EXCHANGE"})]})]}),Object(S.jsxs)("main",{className:"mt-28",children:[Object(S.jsx)("div",{className:"text-center text-2xl font-bold",children:T[f]}),Object(S.jsxs)("div",{className:"mt-10 flex items-center",children:[Object(S.jsx)("img",{className:"w-8 h-8",src:E}),Object(S.jsx)("input",{className:"mx-2 p-1 w-52 border-b-2 border-secondary bg-primary",value:n.email,name:"email",type:"text",autoComplete:"off",placeholder:"\u4fe1\u7bb1",onChange:s})]}),Object(S.jsxs)("div",{className:"mt-10 flex items-center",children:[Object(S.jsx)("img",{className:"w-8 h-8",src:L}),Object(S.jsx)("input",{className:"mx-2 p-1 w-52 border-b-2 border-secondary bg-primary",value:n.password,name:"password",type:"password",placeholder:"\u5bc6\u78bc",onChange:s})]}),Object(S.jsx)(k,{mode:f})]}),Object(S.jsx)("footer",{className:"mt-6 text-active text-xs",children:"- \u8a2a\u5ba2\u6a21\u5f0f\u4e0b\u5c07\u5728\u4e0d\u4fdd\u5b58\u4efb\u4f55\u7d00\u9304"})]})},z=n.p+"static/media/back.787aea94.svg",B=n.p+"static/media/notify.5e97b4d7.svg",D=function(){return Object(S.jsxs)("header",{className:"p-2 flex justify-between w-full h-12 bg-secondary rounded-b z-10 shadow-2xl",children:[Object(S.jsx)("img",{className:"h-full",src:z}),Object(S.jsxs)("div",{className:"flex h-full items-center",onClick:function(){var e=document.getElementById("layout");if(null!==e)var t=e.scrollTop/10,n=setInterval((function(){e.scrollTop-=t,0===e.scrollTop&&clearInterval(n)}),10)},children:[Object(S.jsx)("img",{className:"h-6",src:C}),Object(S.jsx)("span",{className:"ml-2",children:"\u91d1\u878d"})]}),Object(S.jsx)("img",{className:"h-full",src:B})]})},P=s.a.memo(D),F=[{label:"\u9996\u9801",value:"home",icon:n.p+"static/media/home.6d34b0e1.svg"},{label:"\u91d1\u878d",value:"finance",icon:n.p+"static/media/finance.85e6861a.svg"},{label:"\u4ea4\u6613",value:"trade",icon:n.p+"static/media/trade.2156d1e8.svg"},{label:"\u8cc7\u7522",value:"assets",icon:n.p+"static/media/assets.31edfef0.svg"}],U=function(){var e=Object(x.h)().pathname.replace("/",""),t=F.map((function(t){var n=e===t.value?" text-active ":"",c={};return e===t.value&&(c.filter="invert(38%) sepia(18%) saturate(6023%) hue-rotate(0deg) brightness(93%) contrast(95%)"),Object(S.jsxs)(p.b,{className:n+"py-1 w-1/4 h-full flex flex-col justify-end items-center fill-current",to:t.value,children:[Object(S.jsx)("img",{className:"w-6 h-6",style:c,src:t.icon}),Object(S.jsx)("div",{className:"mt-1 text-sm",children:t.label})]},t.value)}));return Object(S.jsx)("footer",{className:"w-full h-16 flex justify-between items-center bg-secondary rounded-t-xl",children:t})},V=s.a.memo(U),J=(n(45),function(e){var t=e.children;return Object(S.jsxs)("div",{className:"flex flex-col text-white",children:[Object(S.jsx)(P,{}),Object(S.jsxs)("main",{id:"layout",className:"py-2 overflow-y-auto",children:[" ",t," "]}),Object(S.jsx)(V,{})]})}),R=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,85))})),_=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,86))})),H=Object(a.lazy)((function(){return n.e(7).then(n.bind(null,83))})),q=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,84))})),G=null,K=function(){var e=Object(x.h)().pathname;return Object(a.useEffect)((function(){null===G&&(G=document.getElementById("layout")),null!==G&&(G.scrollTop=0)}),[e]),null},M=function(){var e=Object(i.c)((function(e){return e.user.isLogin}));return Object(S.jsxs)(p.a,{children:[Object(S.jsx)(K,{}),Object(S.jsxs)(x.d,{children:[Object(S.jsx)(x.a,{exact:!0,from:"/",to:"/".concat(e?"home":"login")}),Object(S.jsx)(x.b,{path:"/login",component:A}),Object(S.jsx)(J,{children:Object(S.jsx)(a.Suspense,{fallback:Object(S.jsx)("div",{children:"Loading..."}),children:Object(S.jsxs)(x.d,{children:[Object(S.jsx)(x.b,{path:"/home",component:R}),Object(S.jsx)(x.b,{path:"/finance",component:_}),Object(S.jsx)(x.b,{path:"/trade",component:H}),Object(S.jsx)(x.b,{path:"/assets",component:q})]})})})]})]})};n(46);l.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(i.a,{store:h,children:Object(S.jsx)(M,{})})}),document.getElementById("root")),c()}},[[47,2,3]]]);
//# sourceMappingURL=main.8f7391e6.chunk.js.map